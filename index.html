<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Valorant</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <link rel="stylesheet" href="assets/style/style.css">
</head>

<body>
  <div class="hero d-flex align-items-end justify-content-center">
    <div class="d-flex gap-3 mb-5">
      <a href="#characters" class="btn custom-btn text-white">
        CHARACTERS
      </a>
      <a href="#maps" class="btn custom-btn text-white">
        MAPS
      </a>
      <a href="#ranks" class="btn custom-btn text-white">
        RANKS
      </a>
    </div>
  </div>
  <div class="agent-section" id="characters">
    <div class="container text-white text-center">
      <h1 class="display-2 mt-5">AGENTS</h1>
      <div class="row" id="agents">
      </div>
    </div>
  </div>
  <div class="maps-section">
    <div class="container text-white text-center">
      <h1 class="display-2 mt-3">
        MAPS
      </h1>
      <div class="row justify-content-center" id="maps"></div>
    </div>
  </div>

  <div class="rank-section">
    <div class="container-fluid text-white text-center px-5">
      <h1 class="display-2 my-5">
        COMPETITIVE RANKS
      </h1>
      <div class="row justify-content-center mb-5" id="ranks"></div>
    </div>
  </div>

  <div class="closing-section">
  </div>

  <footer class="custom-footer text-white text-center py-4">
    <div class="footer-content d-flex align-items-center justify-content-center px-3">
      <h5 style="letter-spacing: 1px;">
        FOR EDUCATIONAL PURPOSES ONLY.
      </h5>
    </div>
  </footer>

  <script>

    var agentSection = document.getElementById("agents");

    const getAgent = async () => {
      const response = await fetch('https://valorant-api.com/v1/agents?isPlayableCharacter=true');
      const result = await response.json();

      const agents = result.data;

      for (var i = 0; i < agents.length; i++) {
        const agent = agents[i];
        var abilitiesHTML = "";

        for (var j = 0; j < agent.abilities.length; j++) {
          const ability = agent.abilities[j];

          abilitiesHTML += `
            <div class="d-flex align-items-center mt-3 mb-3 ability-item">
              <div class="col-3 text-center">
                <img src="` + ability.displayIcon + `" class="mb-2 ability-icon">
                <p class="ability-name">` + ability.displayName + `</p>
              </div>
              <div class="col-9 d-flex">
                <p class="ability-desc lh-sm">` + ability.description + `</p>
              </div>
            </div>
          `;
        }

        agentSection.innerHTML += `
        <div class="col-12 col-lg-6 d-flex justify-content-center">
          <div class="agent-card my-4 p-4 text-white position-relative">
            <h1 class="agent-name text-center mb-3">
              `+ agent.displayName + `
            </h1>

            <img src="` + agent.role.displayIcon + `" class="role-icon position-absolute top-0 end-0 m-3">

            <div class="text-center mb-4">
              <img src="` + agent.displayIcon + `" class="agent-img">
            </div>
            <div>
              <h3 class="mt-5 mb-2 abilities">Abilities</h3>
              ` + abilitiesHTML + `
            </div>
          </div>
        </div>
        `;
      }
    }

    getAgent();
  </script>
  <script>
    var mapsSection = document.getElementById("maps");

    const getMaps = async () => {
      const response = await fetch('https://valorant-api.com/v1/maps');
      const result = await response.json();

      const maps = result.data;

      for (var i = 0; i < maps.length; i++) {
        const map = maps[i];

        mapsSection.innerHTML += `
        <div class="col-6 col-lg-4 mb-4">
          <div class="map-card position-relative mx-4">
            <img src="` + map.splash + `" class="img-fluid map-img">
            <div class="map-name mt-3">
              <h3> `+ map.displayName + ` </h3>
            </div>
          </div>
        </div>
        `;
      }
    };

    getMaps();
  </script>
  <script>
    var ranksSection = document.getElementById("ranks");

    const divisions = [
      "IRON",
      "BRONZE",
      "SILVER",
      "GOLD",
      "PLATINUM",
      "DIAMOND",
      "IMMORTAL",
      "RADIANT"
    ];

    const getRanks = async () => {
      const response = await fetch('https://valorant-api.com/v1/competitivetiers');
      const result = await response.json();

      const tiers = result.data[0].tiers;

      for (var d = 0; d < divisions.length; d++) {
        var division = divisions[d];

        var columnHTML = `
      <div class="col text-center">
        <h4 class="fw-bold mb-5">` + division + ` </h4>
        <div class ="d-flex flex-column align-items-center my-5 gap-5">`;

        for (var i = 0; i < tiers.length; i++) {
          var tier = tiers[i];

          if (tier.divisionName === division && tier.largeIcon) {
            columnHTML += `<img src="` + tier.largeIcon + `" class="rank-icon">`;
          }
        }

        columnHTML += `
          </div>
        </div>`;

        ranksSection.innerHTML += columnHTML;
      }
    };

    getRanks();
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
    crossorigin="anonymous"></script>
</body>

</html>